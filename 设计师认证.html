<!doctype html>
<html>
<head>
<title>百塔屋 | 打造中国最好的平台</title>
<meta name="Keywords" content="百塔屋">
<meta name="Description" content="百塔屋">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon"/>

<link href="css/reset.css" rel="stylesheet" type="text/css">
<link href="css/style.css" rel="stylesheet" type="text/css">
<link href="css/swiper.min.css" rel="stylesheet" type="text/css">

</head>

<body>
<div id="wrapper">
  <!--顶部-->
  <div class="header">
  	<div class="box topBar">
      <!-- <input type="text" class="icon topSearch" placeholder="搜索 案例/设计师/小区/楼盘"> -->
  		<ul>
  			<li><a href="#" title="登录">用户登录</a></li>
        <li><a href="#" title="注册">注册</a></li>
  			<li><a href="#" class="login" title="设计师登录">设计师登录</a></li>
  			<li><a href="#" class="appDownload" title="APP下载">APP下载</a></li>
  		</ul>
  	</div>
  </div>
  <div class="navIndex">
      <div class="box nav">
        <ul>
          <li>
            <a href="#">选设计师</a>
          </li>
          <li>
            <a href="#">看案例/可见既可得</a>
          </li>
          <li>
            <a href="#">线下工作室</a>
          </li>
          <li>
            <a href="#">产品中心</a>
          </li>
          <li>
            <a href="#">无忧交易</a>
          </li>
          <li>
            <a href="#">关于百搭屋</a>
          </li>
        </ul>
        <div class="subNnav">
          <div class="mainNav">
            <dl>
              <dd>
                <a href="#">设计师认证</a>
              </dd>
              <dd>
                <a href="#">设计师多样化</a>
              </dd>
            </dl>
            <dl>
              <dd>
                <a href="#">软装美图</a>
              </dd>
            </dl>
            <dl>
              <dd>
                <a href="#">线下工作室</a>
              </dd>
            </dl>
            <dl>
              <dd>
                <a href="#">品牌家居</a>
              </dd>
              <dd>
                <a href="#">定制套餐</a>
              </dd>
              <dd>
                <a href="#">定制单品</a>
              </dd>
            </dl>
          </div>
          <div class="menu">
            <dl>
              <dd>
                <a href="#">无忧交易</a>
              </dd>
            </dl>
            <dl>
              <dd>
                <a href="#">联系我们</a>
              </dd>
              <dd>
                <a href="#">加入我们</a>
              </dd>
              <dd>
                <a href="#">招商合作</a>
              </dd>
            </dl>
          </div>
        </div>
      </div>
    </div>

  <!--floatBar-->
    <div class="floatBar_left">
      <p class="close">x</p>
      <a href="#">
        <dl>
          <dt class="icon_func_1 icon"></dt>
          <dd>在线客服</dd>
        </dl>
      </a>
      <a href="#">
        <dl>
          <dt class="icon_func_2 icon"></dt>
          <dd>预约量房</dd>
        </dl>
      </a>
      <a href="#">
        <dl>
          <dt class="icon_func_3 icon"></dt>
          <dd>热门套餐</dd>
        </dl>
      </a>
      <a href="#">
        <dl>
          <dt class="icon_func_4 icon"></dt>
          <dd>无忧交易</dd>
        </dl>
      </a>
      <a href="#">
        <dl>
          <dt class="icon_func_5 icon"></dt>
          <dd>售后服务</dd>
        </dl>
      </a>
      <img src="images/code.png" alt="百塔屋二维码">
      <p class="phone">400-558-8888</p>
     </div>

  <!--content-->
  <div class="cont clr">
    <div class="box over">
      <p class="tle mt20 mbNo"><span class="pl15"><span class="red_1">个人</span>信息</span></p>
      <div class="regBox">
        <div class="clr">
          <dl class="fl">
            <dt>您的姓名</dt>
            <dd><input id="username" type="text" class="wd_small"></dd>
          </dl>
          <dl class="fl ml15">
            <dt>真实姓名</dt>
            <dd><input id="name" type="text" class="wd_small"></dd>
          </dl>
        </div>
        <div class="clr">
          <dl class="fl">
            <dt>您的性别</dt>
            <dd><select class="wd_select" name="" id="sex"><option value="">请选择</option><option value="">男</option><option value="">女</option></select></dd>
          </dl>
          <dl class="fl ml15">
            <dt>联系电话</dt>
            <dd><input id="phone" type="text" class="wd_small"></dd>
          </dl>
        </div>
        <dl>
          <dt>所在城市</dt>
          <dd><input id="city" type="text" class="wd_large"></dd>
        </dl>
        <dl>
          <dt>电子邮箱</dt>
          <dd><input id="mail" type="text" class="wd_large"></dd>
        </dl>
        <dl>
          <dt>微信号码</dt>
          <dd><input id="weixin" type="text" class="wd_large"></dd>
        </dl>
      </div>
      <p class="tle mbNo"><span class="pl15"><span class="red_1">认证</span>信息</span></p>
      <div class="regBox">
        <dl>
          <dt>身份证号</dt>
          <dd><input id="card" type="text" class="wd_small"></dd>
        </dl>
        <div class="clr">
          <dl class="fl">
            <dt>证件正面</dt>
            <dd><div class="loadPic cardFace icon"><input type="file"><img src="" id="cardface"><p>点击上传</p></div></dd>
          </dl>
          <dl class="fl ml15">
            <dt>证件反面</dt>
            <dd><div class="loadPic cardCon icon"><input type="file"><img src="" id="cardcon"><p>点击上传</p></div></dd>
          </dl>
        </div>
      </div>
      <p class="tle mbNo"><span class="pl15"><span class="red_1">支付</span>信息</span></p>
      <div class="regBox mb10">
        <dl>
          <dt>支付宝号</dt>
          <dd><input id="alipay" type="text" class="wd_small"></dd>
        </dl>
        <dl>
          <dt>真实姓名</dt>
          <dd><input id="alipayName" type="text" class="wd_small"></dd>
        </dl>
      </div>
      <div class="regBox mb20 clr">
<a href="#" class="dsgbtn sure fr zi mb20">确认提交</a>
      </div>



    </div>
  </div>

  <!--footer-->
  <div class="footerCall">
    <div class="box over">
      <div class="fr">
        <p class="codeBox"><img src="images/footer_code.png" title="关注微信">关注微信</p>
        <p class="codeBox ml70 mr15"><img src="images/footer_code.png" title="关注微博">关注微博</p>
      </div>
      <div class="fl">
        <p class="white font40">400-696-8898</p>
        <p class="white mb15 pb10 font16">7*24小时贴心咨询请留下您的建议</p>
        <p><a href="#" class="dsgbtn yue mr10">招商合作申请</a><a href="#" class="dsgbtn zi">APP 下载</a></p>
      </div>
    </div>
  </div>
  <div class="footerNav">
    <div class="box">
      <p class="copyRight">Copyright © 2015 . All Rights Reserved Powered By:Fractal-technology</p>
      <ul>
        <li><a href="#">免费预约量房</a></li>
        <li><a href="#">无忧交易</a></li>
        <li><a href="#">百搭屋定制</a></li>
        <li><a href="#">线下工作室</a></li>
        <li><a href="#">友情链接</a></li>
      </ul>
    </div>
  </div>

</div>

<script src="js/jquery-1.8.2.min.js"></script>
<script src="js/swiper.min.js"></script>
<script src="js/common.js"></script>
<script type="text/javascript">
$('#sex').on('click', function(){
  var sex = $(this).find("option:selected").text()
  $(this).attr('name',sex)
});

$('.sure').on('click',function() {
  var username = $('#username').val();
  var name = $('#name').val();
  var sex = $('#sex').attr('name');
  var phone = $("#phone").val();
  var city = $('#city').val();
  var mail = $('#mail').val();
  var weixin = $('#weixin').val();
  var card = $('#card').val();
  var cardface = $('#cardface').attr('src');
  var cardcon = $('#cardcon').attr('src');
  var alipay = $('#alipay').val();
  var alipayName = $('#alipayName').val();

  var isMobile = /^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(17[0-9]{1})|(14[0-9]{1}))+\d{8})$/;  
  var isPhone = /^(?:(?:0\d{2,3})-)?(?:\d{7,8})(-(?:\d{3,}))?$/;

  if (username=="" || username==null) {
    alert('请输入您的姓名');
    $('#username').addClass('misstake')
    return false;
  } else {
    $('#username').removeClass('misstake')
  }

  if (name=="" || name==null) {
    alert('请输入您的真实姓名');
    $('#name').addClass('misstake')
    return false;
  } else {
    $('#name').removeClass('misstake')
  }

  if (sex=="" || sex==null) {
    alert('请选择您的性别');
    $('#sex').addClass('misstake')
    return false;
  } else {
    $('#sex').removeClass('misstake')
  }

  if (phone=="" || phone==null) {
    alert('请输入联系电话');
    checkTel()
    $('#phone').addClass('misstake')
    return false;
  } else {
    $('#phone').removeClass('misstake')
  }

  if (city=="" || city==null) {
    alert('请输入所在城市');
    $('#city').addClass('misstake')
    return false;
  } else {
    $('#city').removeClass('misstake')
  }

  if (mail=="" || mail==null) {
    alert('请输入电子邮箱');
    $('#mail').addClass('misstake')
    return false;
  } else {
    $('#mail').removeClass('misstake')
  }

  if (weixin=="" || weixin==null) {
    alert('请输入微信号码');
    $('#weixin').addClass('misstake')
    return false;
  } else {
    $('#weixin').removeClass('misstake')
  }

  //检验身份证
  checkEnergyCard();

  if (cardface=="" || cardface==null) {
    alert('请上传证件正面');
    $('.cardFace').addClass('misstake')
    return false;
  } else {
    $('.cardFace').removeClass('misstake')
  }

  if (cardcon=="" || cardcon==null) {
    alert('请上传证件反面');
    $('.cardCon').addClass('misstake')
    return false;
  } else {
    $('.cardCon').removeClass('misstake')
  }

  if (alipay=="" || alipay==null) {
    alert('请输入支付宝号');
    $('#alipay').addClass('misstake')
    return false;
  } else {
    $('#alipay').removeClass('misstake')
  }

  if (alipayName=="" || alipayName==null) {
    alert('请输入支付宝真实姓名');
    $('#alipayName').addClass('misstake')
    return false;
  } else {
    $('#alipayName').removeClass('misstake')
  }
  
});

$(function () {
  var inpEle = document.getElementById('phone');
  var number = /^1[3458]\d{9}$/;

  window.onload = function(){    
      inpEle.onblur = function(){
        var inpVal = this.value;
        if (!number.exec(inpVal)){
          alert('请输入正确的手机号码');
          return false;
        };
      }
    }
})

//个人身份证
function checkEnergyCard(){
 var allowancePersonValue=$("#card").val();
 //是否为空
 if(allowancePersonValue==""){
  $("#card").addClass("misstake");
  alert('请输入身份证号');
  return false;
 }
 //校验长度，类型
 else if(isCardNo(allowancePersonValue) === false)
 {
  $("#card").addClass("misstake");
  alert("您输入的身份证号码不正确，请重新输入");
  return false;
 }
 //检查省份
 else if(checkProvince(allowancePersonValue) === false)
 {
  $("#card").addClass("misstake");
  alert("您输入的身份证号码不正确，请重新输入");
  return false;
 }
 //校验生日
 else if(checkBirthday(allowancePersonValue) === false)
 {
  $("#card").addClass("misstake");
  alert("您输入的身份证号码生日不正确,请重新输入");
  return false;
 }
 //检验位的检测
 else if(checkParity(allowancePersonValue) === false)
 {
  $("#card").addClass("misstake");
  alert("您的身份证校验位不正确,请重新输入");
  return false;
 }else{
  $("#card").removeClass("misstake");
  return true;
 }

}

//身份证省的编码
var vcity={ 11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",
        21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",
        33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",
        42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",
        51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",
        63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"
       };

//检查号码是否符合规范，包括长度，类型
function isCardNo(card){
 //身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X
 var reg = /(^\d{15}$)|(^\d{17}(\d|X)$)/;
 if(reg.test(card) === false){
  //alert("demo");
  return false;
 }
 return true;
}

//取身份证前两位,校验省份
function checkProvince(card){
 var province = card.substr(0,2);
 if(vcity[province] == undefined){
  return false;
 }
 return true;
}

//检查生日是否正确
function checkBirthday(card){
 var len = card.length;
 //身份证15位时，次序为省（3位）市（3位）年（2位）月（2位）日（2位）校验位（3位），皆为数字
 if(len == '15'){ 
     var re_fifteen = /^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/;
     var arr_data = card.match(re_fifteen);
     var year = arr_data[2];
     var month = arr_data[3];
     var day = arr_data[4];
     var birthday = new Date('19'+year+'/'+month+'/'+day);
     return verifyBirthday('19'+year,month,day,birthday);
 }
 //身份证18位时，次序为省（3位）市（3位）年（4位）月（2位）日（2位）校验位（4位），校验位末尾可能为X
 if(len == '18'){
     var re_eighteen = /^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/;
     var arr_data = card.match(re_eighteen);
     var year = arr_data[2];
     var month = arr_data[3];
     var day = arr_data[4];
     var birthday = new Date(year+'/'+month+'/'+day);
     return verifyBirthday(year,month,day,birthday);
 }
 return false;
}

//校验日期
function verifyBirthday(year,month,day,birthday){
 var now = new Date();
 var now_year = now.getFullYear();
 //年月日是否合理
 if(birthday.getFullYear() == year && (birthday.getMonth() + 1) == month && birthday.getDate() == day)
 {
     //判断年份的范围（3岁到100岁之间)
     var time = now_year - year;
     if(time >= 3 && time <= 100)
     {
         return true;
     }
     return false;
 }
 return false;
}

//校验位的检测
function checkParity(card){
 //15位转18位
 card = changeFivteenToEighteen(card);
 var len = card.length;
 if(len == '18'){
     var arrInt = new Array(7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2);
     var arrCh = new Array('1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2');
     var cardTemp = 0, i, valnum;
     for(i = 0; i < 17; i ++)
     {
         cardTemp += card.substr(i, 1) * arrInt[i];
     }
     valnum = arrCh[cardTemp % 11];
     if (valnum == card.substr(17, 1))
     {
         return true;
     }
     return false;
 }
 return false;
}

//15位转18位身份证号
function changeFivteenToEighteen(card){
 if(card.length == '15')
 {
     var arrInt = new Array(7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2);
     var arrCh = new Array('1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2');
     var cardTemp = 0, i;  
     card = card.substr(0, 6) + '19' + card.substr(6, card.length - 6);
     for(i = 0; i < 17; i ++)
     {
         cardTemp += card.substr(i, 1) * arrInt[i];
     }
     card += arrCh[cardTemp % 11];
     return card;
 }
 return card;
}
</script>
</body>
</html>
